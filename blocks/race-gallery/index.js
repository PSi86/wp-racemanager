(()=>{"use strict";var e={};const t=window.wp.blocks,a=window.wp.blockEditor,l=window.wp.components,r=window.wp.i18n,n=window.wp.element,c=window.wp.data;(0,t.registerBlockType)("wp-racemanager/race-gallery",{title:(0,r.__)("Race Media Gallery","wp-racemanager"),icon:"images-alt2",category:"media",attributes:{mediaIds:{type:"array",default:[]}},edit({attributes:e,setAttributes:t}){const{mediaIds:i}=e,o=(0,c.useSelect)((e=>e("core/editor").getCurrentPostId()),[]),{editEntityRecord:d}=(0,c.useDispatch)("core");return React.createElement(n.Fragment,null,React.createElement(a.InspectorControls,null,React.createElement(l.PanelBody,{title:(0,r.__)("Gallery Settings","race"),initialOpen:!0},React.createElement(l.PanelRow,null,React.createElement(a.MediaUploadCheck,null,React.createElement(a.MediaUpload,{onSelect:e=>{const a=e.map((e=>e.id));t({mediaIds:a}),a.forEach((e=>d("postType","attachment",e,{parent:o})))},allowedTypes:["image","video"],gallery:!0,multiple:!0,value:i,render:({open:e})=>React.createElement(l.Button,{isPrimary:!0,onClick:e},(0,r.__)("Select or Upload Media","race"))}))))),React.createElement("div",{className:"race-gallery-block"},i.length?React.createElement("p",null,i.length," media selected."):React.createElement("p",null,(0,r.__)("No media selected.","race"))))},save:()=>null});var i=window;for(var o in e)i[o]=e[o];e.__esModule&&Object.defineProperty(i,"__esModule",{value:!0})})();